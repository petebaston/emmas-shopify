document.addEventListener('DOMContentLoaded',function(){const productList=document.querySelectorAll('.product-item');productList.forEach((product)=>{attachQuantityPickerToProduct(product)});observeProductListChanges()});function attachQuantityPickerToProduct(product){const quantityPickerElement=product.querySelector('.quantity-selector.quantity-selector--product');if(quantityPickerElement){product.quantityPicker=new QuantityPicker(quantityPickerElement)}}
function observeProductListChanges(){const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{if(mutation.type==='childList'){mutation.addedNodes.forEach((node)=>{if(node.nodeType===1){if(node.matches('.scroller')){node.querySelectorAll('.product-item').forEach((productItem)=>{attachQuantityPickerToProduct(productItem)})}}})}})});const config={childList:!0,subtree:!0};const targetNode=document.body;observer.observe(targetNode,config)}